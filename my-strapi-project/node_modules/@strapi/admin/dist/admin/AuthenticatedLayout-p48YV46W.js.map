{"version":3,"file":"AuthenticatedLayout-p48YV46W.js","sources":["../../admin/src/components/GuidedTour/Modal.tsx","../../admin/src/components/MainNav/MainNav.tsx","../../admin/src/components/MainNav/NavBrand.tsx","../../admin/src/components/MainNav/NavLink.tsx","../../admin/src/components/MainNav/NavUser.tsx","../../admin/src/components/LeftMenu.tsx","../../admin/src/assets/images/onboarding-preview.png","../../admin/src/components/Onboarding.tsx","../../admin/src/components/PluginsInitializer.tsx","../../admin/src/hooks/useMenu.ts","../../admin/src/layouts/AuthenticatedLayout.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Flex,\n  FlexComponent,\n  FocusTrap,\n  IconButton,\n  Portal,\n  Typography,\n  LinkButton,\n} from '@strapi/design-system';\nimport { ArrowRight, Cross } from '@strapi/icons';\nimport get from 'lodash/get';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { NavLink } from 'react-router-dom';\nimport { styled } from 'styled-components';\n\nimport { useTracking } from '../../features/Tracking';\n\nimport { LAYOUT_DATA, STATES } from './constants';\nimport { Number, VerticalDivider } from './Ornaments';\nimport { GuidedTourContextValue, useGuidedTour } from './Provider';\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourModal\n * -----------------------------------------------------------------------------------------------*/\n\nconst GuidedTourModal = () => {\n  const currentStep = useGuidedTour('GuidedTourModal', (state) => state.currentStep);\n  const guidedTourState = useGuidedTour('GuidedTourModal', (state) => state.guidedTourState);\n  const setCurrentStep = useGuidedTour('GuidedTourModal', (state) => state.setCurrentStep);\n  const setStepState = useGuidedTour('GuidedTourModal', (state) => state.setStepState);\n  const isGuidedTourVisible = useGuidedTour(\n    'GuidedTourModal',\n    (state) => state.isGuidedTourVisible\n  );\n  const setSkipped = useGuidedTour('GuidedTourModal', (state) => state.setSkipped);\n\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n\n  if (!currentStep || !isGuidedTourVisible) {\n    return null;\n  }\n\n  const stepData = get(LAYOUT_DATA, currentStep);\n  const sectionKeys = Object.keys(guidedTourState);\n  const [sectionName, stepName] = currentStep.split('.') as [\n    keyof GuidedTourContextValue['guidedTourState'],\n    string,\n  ];\n  const sectionIndex = sectionKeys.indexOf(sectionName);\n  const stepIndex = Object.keys(guidedTourState[sectionName]).indexOf(stepName);\n  const hasSectionAfter = sectionIndex < sectionKeys.length - 1;\n  const hasStepAfter = stepIndex < Object.keys(guidedTourState[sectionName]).length - 1;\n\n  const handleCtaClick = () => {\n    setStepState(currentStep, true);\n\n    if (stepData) {\n      trackUsage(stepData.trackingEvent);\n    }\n\n    setCurrentStep(null);\n  };\n\n  const handleSkip = () => {\n    setSkipped(true);\n    setCurrentStep(null);\n    trackUsage('didSkipGuidedtour');\n  };\n\n  return (\n    <Portal>\n      <ModalWrapper onClick={handleCtaClick} padding={8} justifyContent=\"center\">\n        <FocusTrap onEscape={handleCtaClick}>\n          <Flex\n            direction=\"column\"\n            alignItems=\"stretch\"\n            background=\"neutral0\"\n            width={`66rem`}\n            shadow=\"popupShadow\"\n            hasRadius\n            padding={4}\n            gap={8}\n            role=\"dialog\"\n            aria-modal\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Flex justifyContent=\"flex-end\">\n              <IconButton\n                onClick={handleCtaClick}\n                withTooltip={false}\n                label={formatMessage({\n                  id: 'app.utils.close-label',\n                  defaultMessage: 'Close',\n                })}\n              >\n                <Cross />\n              </IconButton>\n            </Flex>\n            <Box\n              paddingLeft={7}\n              paddingRight={7}\n              paddingBottom={!hasStepAfter && !hasSectionAfter ? 8 : 0}\n            >\n              <GuidedTourStepper\n                title={stepData && 'title' in stepData ? stepData.title : undefined}\n                cta={stepData && 'cta' in stepData ? stepData.cta : undefined}\n                onCtaClick={handleCtaClick}\n                sectionIndex={sectionIndex}\n                stepIndex={stepIndex}\n                hasSectionAfter={hasSectionAfter}\n              >\n                {stepData && 'content' in stepData && <GuidedTourContent {...stepData.content} />}\n              </GuidedTourStepper>\n            </Box>\n            {!(!hasStepAfter && !hasSectionAfter) && (\n              <Flex justifyContent=\"flex-end\">\n                <Button variant=\"tertiary\" onClick={handleSkip}>\n                  {formatMessage({\n                    id: 'app.components.GuidedTour.skip',\n                    defaultMessage: 'Skip the tour',\n                  })}\n                </Button>\n              </Flex>\n            )}\n          </Flex>\n        </FocusTrap>\n      </ModalWrapper>\n    </Portal>\n  );\n};\n\nconst ModalWrapper = styled<FlexComponent>(Flex)`\n  position: fixed;\n  z-index: 4;\n  inset: 0;\n  /* this is theme.colors.neutral800 with opacity */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n`;\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourStepper\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourStepperProps {\n  title: MessageDescriptor | undefined;\n  children: React.ReactNode;\n  cta?: {\n    title: MessageDescriptor;\n    target?: string;\n  };\n  onCtaClick: () => void;\n  sectionIndex: number;\n  stepIndex: number;\n  hasSectionAfter: boolean;\n}\n\nconst GuidedTourStepper = ({\n  title,\n  children,\n  cta,\n  onCtaClick,\n  sectionIndex,\n  stepIndex,\n  hasSectionAfter,\n}: GuidedTourStepperProps) => {\n  const { formatMessage } = useIntl();\n\n  const hasSectionBefore = sectionIndex > 0;\n  const hasStepsBefore = stepIndex > 0;\n  const nextSectionIndex = sectionIndex + 1;\n\n  return (\n    <>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} justifyContent=\"center\" minWidth={`3rem`}>\n          {hasSectionBefore && <VerticalDivider state={STATES.IS_DONE} minHeight={`2.4rem`} />}\n        </Flex>\n        <Typography variant=\"sigma\" textColor=\"primary600\">\n          {formatMessage({\n            id: 'app.components.GuidedTour.title',\n            defaultMessage: '3 steps to get started',\n          })}\n        </Typography>\n      </Flex>\n      <Flex>\n        <Flex marginRight={8} minWidth={`3rem`}>\n          <Number\n            state={hasStepsBefore ? STATES.IS_DONE : STATES.IS_ACTIVE}\n            paddingTop={3}\n            paddingBottom={3}\n          >\n            {sectionIndex + 1}\n          </Number>\n        </Flex>\n        {title && (\n          <Typography variant=\"alpha\" fontWeight=\"bold\" textColor=\"neutral800\" tag=\"h3\" id=\"title\">\n            {formatMessage(title)}\n          </Typography>\n        )}\n      </Flex>\n      <Flex alignItems=\"stretch\">\n        <Flex marginRight={8} direction=\"column\" justifyContent=\"center\" minWidth={`3rem`}>\n          {hasSectionAfter && (\n            <>\n              <VerticalDivider state={STATES.IS_DONE} />\n              {hasStepsBefore && (\n                <Number state={STATES.IS_ACTIVE} paddingTop={3}>\n                  {nextSectionIndex + 1}\n                </Number>\n              )}\n            </>\n          )}\n        </Flex>\n        <Box>\n          {children}\n          {cta &&\n            (cta.target ? (\n              <LinkButton\n                tag={NavLink}\n                endIcon={<ArrowRight />}\n                onClick={onCtaClick}\n                to={cta.target}\n              >\n                {formatMessage(cta.title)}\n              </LinkButton>\n            ) : (\n              <Button endIcon={<ArrowRight />} onClick={onCtaClick}>\n                {formatMessage(cta.title)}\n              </Button>\n            ))}\n        </Box>\n      </Flex>\n      {hasStepsBefore && hasSectionAfter && (\n        <Box paddingTop={3}>\n          <Flex marginRight={8} justifyContent=\"center\" width={`3rem`}>\n            <VerticalDivider state={STATES.IS_DONE} minHeight={`2.4rem`} />\n          </Flex>\n        </Box>\n      )}\n    </>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * GuidedTourContent\n * -----------------------------------------------------------------------------------------------*/\n\ninterface GuidedTourContentProps\n  extends Required<Pick<MessageDescriptor, 'defaultMessage' | 'id'>> {}\n\nconst GuidedTourContent = ({ id, defaultMessage }: GuidedTourContentProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Flex direction=\"column\" alignItems=\"stretch\" gap={4} paddingBottom={6}>\n      {formatMessage(\n        { id, defaultMessage },\n        {\n          documentationLink: DocumentationLink,\n          b: Bold,\n          p: Paragraph,\n          light: Light,\n          ul: List,\n          li: ListItem,\n        }\n      )}\n    </Flex>\n  );\n};\n\nconst DocumentationLink = (children: React.ReactNode) => (\n  <Typography\n    tag=\"a\"\n    textColor=\"primary600\"\n    target=\"_blank\"\n    rel=\"noopener noreferrer\"\n    href=\"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters\"\n  >\n    {children}\n  </Typography>\n);\n\nconst Bold = (children: React.ReactNode) => (\n  <Typography fontWeight=\"semiBold\">{children}</Typography>\n);\n\nconst Paragraph = (children: React.ReactNode) => <Typography>{children}</Typography>;\n\nconst Light = (children: React.ReactNode) => (\n  <Typography textColor=\"neutral600\">{children}</Typography>\n);\n\nconst List = (children: React.ReactNode) => (\n  <Box paddingLeft={6}>\n    <ul>{children}</ul>\n  </Box>\n);\n\nconst LiStyled = styled.li`\n  list-style: disc;\n  &::marker {\n    color: ${({ theme }) => theme.colors.neutral800};\n  }\n`;\n\nconst ListItem = (children: React.ReactNode) => <LiStyled>{children}</LiStyled>;\n\nexport { GuidedTourModal };\n","import { Flex, FlexComponent, FlexProps } from '@strapi/design-system';\nimport { styled } from 'styled-components';\n\nconst MainNavWrapper = styled<FlexComponent<'nav'>>(Flex)`\n  border-right: 1px solid ${({ theme }) => theme.colors.neutral150};\n`;\n\nconst MainNav = (props: FlexProps<'nav'>) => (\n  <MainNavWrapper\n    alignItems=\"normal\"\n    tag=\"nav\"\n    background=\"neutral0\"\n    direction=\"column\"\n    height=\"100vh\"\n    position=\"sticky\"\n    top={0}\n    zIndex={2}\n    width={10}\n    {...props}\n  />\n);\n\nexport { MainNav };\n","import { Box, Flex, type FlexComponent, VisuallyHidden } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { useConfiguration } from '../../features/Configuration';\n\nconst BrandIconWrapper = styled<FlexComponent>(Flex)`\n  svg,\n  img {\n    border-radius: ${({ theme }) => theme.borderRadius};\n    object-fit: contain;\n    height: 2.4rem;\n    width: 2.4rem;\n  }\n`;\n\nexport const NavBrand = () => {\n  const { formatMessage } = useIntl();\n  const {\n    logos: { menu },\n  } = useConfiguration('LeftMenu');\n  return (\n    <Box padding={3}>\n      <BrandIconWrapper direction=\"column\" justifyContent=\"center\" width=\"3.2rem\" height=\"3.2rem\">\n        <img\n          src={menu.custom?.url || menu.default}\n          alt={formatMessage({\n            id: 'app.components.LeftMenu.logo.alt',\n            defaultMessage: 'Application logo',\n          })}\n          width=\"100%\"\n          height=\"100%\"\n        />\n        <VisuallyHidden>\n          <span>\n            {formatMessage({\n              id: 'app.components.LeftMenu.navbrand.title',\n              defaultMessage: 'Strapi Dashboard',\n            })}\n          </span>\n          <span>\n            {formatMessage({\n              id: 'app.components.LeftMenu.navbrand.workplace',\n              defaultMessage: 'Workplace',\n            })}\n          </span>\n        </VisuallyHidden>\n      </BrandIconWrapper>\n    </Box>\n  );\n};\n","import * as React from 'react';\n\nimport {\n  Tooltip,\n  TooltipProps as DSTooltipProps,\n  Badge,\n  BadgeProps,\n  AccessibleIcon,\n} from '@strapi/design-system';\nimport { NavLink as RouterLink, LinkProps } from 'react-router-dom';\nimport { styled } from 'styled-components';\n\n/* -------------------------------------------------------------------------------------------------\n * Link\n * -----------------------------------------------------------------------------------------------*/\nconst MainNavLinkWrapper = styled(RouterLink)`\n  text-decoration: none;\n  display: flex;\n  border-radius: ${({ theme }) => theme.borderRadius};\n  background: ${({ theme }) => theme.colors.neutral0};\n  color: ${({ theme }) => theme.colors.neutral500};\n  position: relative;\n  width: fit-content;\n  padding-block: 0.6rem;\n  padding-inline: 0.6rem;\n\n  &:hover,\n  &.active {\n    background: ${({ theme }) => theme.colors.neutral100};\n  }\n\n  &:hover {\n    svg path {\n      fill: ${({ theme }) => theme.colors.neutral600};\n    }\n    color: ${({ theme }) => theme.colors.neutral700};\n  }\n\n  &.active {\n    svg path {\n      fill: ${({ theme }) => theme.colors.primary600};\n    }\n\n    color: ${({ theme }) => theme.colors.primary600};\n    font-weight: 500;\n  }\n`;\n\nconst LinkImpl = ({ children, ...props }: LinkProps) => {\n  return <MainNavLinkWrapper {...props}>{children}</MainNavLinkWrapper>;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Tooltip\n * -----------------------------------------------------------------------------------------------*/\nconst TooltipImpl = ({ children, label, position = 'right' }: NavLink.TooltipProps) => {\n  return (\n    <Tooltip side={position} label={label} delayDuration={0}>\n      <span>{children}</span>\n    </Tooltip>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Icon\n * -----------------------------------------------------------------------------------------------*/\nconst IconImpl = ({ label, children }: { label: string; children: React.ReactNode }) => {\n  if (!children) {\n    return null;\n  }\n  return <AccessibleIcon label={label}>{children}</AccessibleIcon>;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Badge\n * -----------------------------------------------------------------------------------------------*/\nconst CustomBadge = styled(Badge)`\n  /* override default badge styles to change the border radius of the Base element in the Design System */\n  border-radius: ${({ theme }) => theme.spaces[10]};\n  height: 2rem;\n`;\n\nconst BadgeImpl = ({ children, label, ...props }: NavLink.NavBadgeProps) => {\n  if (!children) {\n    return null;\n  }\n  return (\n    <CustomBadge\n      position=\"absolute\"\n      top=\"-0.8rem\"\n      left=\"1.7rem\"\n      aria-label={label}\n      active={false}\n      {...props}\n    >\n      {children}\n    </CustomBadge>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * EXPORTS\n * -----------------------------------------------------------------------------------------------*/\n\nconst NavLink = {\n  Link: LinkImpl,\n  Tooltip: TooltipImpl,\n  Icon: IconImpl,\n  Badge: BadgeImpl,\n};\n\n// eslint-disable-next-line @typescript-eslint/no-namespace\nnamespace NavLink {\n  export interface NavBadgeProps extends BadgeProps {\n    children: React.ReactNode;\n    label: string;\n  }\n\n  export interface TooltipProps {\n    children: React.ReactNode;\n    label?: string;\n    position?: DSTooltipProps['side'];\n  }\n}\n\nexport { NavLink };\n","import * as React from 'react';\n\nimport { Flex, Menu, ButtonProps, VisuallyHidden, Avatar } from '@strapi/design-system';\nimport { SignOut } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { useNavigate } from 'react-router-dom';\nimport { styled } from 'styled-components';\n\nimport { useAuth } from '../../features/Auth';\n\nexport interface NavUserProps extends ButtonProps {\n  initials: string;\n  children?: React.ReactNode;\n}\n\nconst MenuTrigger = styled(Menu.Trigger)`\n  height: 100%;\n  border-radius: 0;\n  border-width: 1px 0 0 0;\n  border-color: ${({ theme }) => theme.colors.neutral150};\n  border-style: solid;\n  padding: ${({ theme }) => theme.spaces[3]};\n  // padding 12px - 1px border width\n  padding-top: 11px;\n  // Prevent empty pixel from appearing below the main nav\n  overflow: hidden;\n`;\n\nconst MenuContent = styled(Menu.Content)`\n  left: ${({ theme }) => theme.spaces[5]};\n`;\n\nconst MenuItem = styled(Menu.Item)`\n  & > span {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    gap: ${({ theme }) => theme.spaces[3]};\n    justify-content: space-between;\n  }\n`;\n\nexport const NavUser = ({ children, initials, ...props }: NavUserProps) => {\n  const { formatMessage } = useIntl();\n  const navigate = useNavigate();\n  const logout = useAuth('Logout', (state) => state.logout);\n  const handleProfile = () => {\n    navigate('/me');\n  };\n  const handleLogout = () => {\n    logout();\n    navigate('/auth/login');\n  };\n\n  return (\n    <Flex justifyContent=\"center\" {...props}>\n      <Menu.Root>\n        <MenuTrigger endIcon={null} fullWidth justifyContent=\"center\">\n          <Avatar.Item delayMs={0} fallback={initials} />\n          <VisuallyHidden tag=\"span\">{children}</VisuallyHidden>\n        </MenuTrigger>\n        <MenuContent popoverPlacement=\"top-center\" zIndex={3}>\n          <MenuItem onSelect={handleProfile}>\n            {formatMessage({\n              id: 'global.profile',\n              defaultMessage: 'Profile',\n            })}\n          </MenuItem>\n\n          <MenuItem onSelect={handleLogout} color=\"danger600\">\n            {formatMessage({\n              id: 'app.components.LeftMenu.logout',\n              defaultMessage: 'Logout',\n            })}\n            <SignOut />\n          </MenuItem>\n        </MenuContent>\n      </Menu.Root>\n    </Flex>\n  );\n};\n","import * as React from 'react';\n\nimport { Divider, Flex, FlexComponent, useCollator } from '@strapi/design-system';\nimport { Lightning } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { useLocation } from 'react-router-dom';\nimport { styled } from 'styled-components';\n\nimport { useAuth } from '../features/Auth';\nimport { useTracking } from '../features/Tracking';\nimport { Menu, MenuItem } from '../hooks/useMenu';\nimport { getDisplayName } from '../utils/users';\n\nimport { MainNav } from './MainNav/MainNav';\nimport { NavBrand } from './MainNav/NavBrand';\nimport { NavLink } from './MainNav/NavLink';\nimport { NavUser } from './MainNav/NavUser';\n\nconst sortLinks = (links: MenuItem[]) => {\n  return links.sort((a, b) => {\n    // if no position is defined, we put the link in the position of the external plugins, before the plugins list\n    const positionA = a.position ?? 6;\n    const positionB = b.position ?? 6;\n\n    if (positionA < positionB) {\n      return -1;\n    } else {\n      return 1;\n    }\n  });\n};\n\nconst NavLinkBadgeCounter = styled(NavLink.Badge)`\n  span {\n    color: ${({ theme }) => theme.colors.neutral0};\n  }\n`;\n\nconst NavLinkBadgeLock = styled(NavLink.Badge)`\n  background-color: transparent;\n`;\n\nconst NavListWrapper = styled<FlexComponent<'ul'>>(Flex)`\n  overflow-y: auto;\n`;\n\ninterface LeftMenuProps extends Pick<Menu, 'generalSectionLinks' | 'pluginsSectionLinks'> {}\n\nconst LeftMenu = ({ generalSectionLinks, pluginsSectionLinks }: LeftMenuProps) => {\n  const user = useAuth('AuthenticatedApp', (state) => state.user);\n  const { trackUsage } = useTracking();\n  const { pathname } = useLocation();\n  const userDisplayName = getDisplayName(user);\n  const { formatMessage, locale } = useIntl();\n  const formatter = useCollator(locale, {\n    sensitivity: 'base',\n  });\n\n  const initials = userDisplayName\n    .split(' ')\n    .map((name) => name.substring(0, 1))\n    .join('')\n    .substring(0, 2);\n\n  const handleClickOnLink = (destination: string) => {\n    trackUsage('willNavigate', { from: pathname, to: destination });\n  };\n\n  const listLinksAlphabeticallySorted = [...pluginsSectionLinks, ...generalSectionLinks].sort(\n    (a, b) => formatter.compare(formatMessage(a.intlLabel), formatMessage(b.intlLabel))\n  );\n  const listLinks = sortLinks(listLinksAlphabeticallySorted);\n\n  return (\n    <MainNav>\n      <NavBrand />\n\n      <Divider />\n\n      <NavListWrapper tag=\"ul\" gap={3} direction=\"column\" flex={1} paddingTop={3} paddingBottom={3}>\n        {listLinks.length > 0\n          ? listLinks.map((link) => {\n              const LinkIcon = link.icon;\n              const badgeContentLock = link?.licenseOnly ? (\n                <Lightning fill=\"warning500\" />\n              ) : undefined;\n\n              const badgeContentNumeric =\n                link.notificationsCount && link.notificationsCount > 0\n                  ? link.notificationsCount.toString()\n                  : undefined;\n\n              const labelValue = formatMessage(link.intlLabel);\n              return (\n                <Flex tag=\"li\" key={link.to}>\n                  <NavLink.Tooltip label={labelValue}>\n                    <NavLink.Link\n                      to={link.to}\n                      onClick={() => handleClickOnLink(link.to)}\n                      aria-label={labelValue}\n                    >\n                      <NavLink.Icon label={labelValue}>\n                        <LinkIcon width=\"2rem\" height=\"2rem\" fill=\"neutral500\" />\n                      </NavLink.Icon>\n                      {badgeContentLock ? (\n                        <NavLinkBadgeLock\n                          label=\"locked\"\n                          textColor=\"neutral500\"\n                          paddingLeft={0}\n                          paddingRight={0}\n                        >\n                          {badgeContentLock}\n                        </NavLinkBadgeLock>\n                      ) : badgeContentNumeric ? (\n                        <NavLinkBadgeCounter\n                          label={badgeContentNumeric}\n                          backgroundColor=\"primary600\"\n                          width=\"2.3rem\"\n                          color=\"neutral0\"\n                        >\n                          {badgeContentNumeric}\n                        </NavLinkBadgeCounter>\n                      ) : null}\n                    </NavLink.Link>\n                  </NavLink.Tooltip>\n                </Flex>\n              );\n            })\n          : null}\n      </NavListWrapper>\n      <NavUser initials={initials}>{userDisplayName}</NavUser>\n    </MainNav>\n  );\n};\n\nexport { LeftMenu };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABQCAMAAAD2kgFPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAL9UExURff3+fv7+/X19/Pz9/n5+fv7/f39//////39/UdwTPn5+/X1+fHx++/v8fn5/fHx8/Pz9eTk6e/v8/Hx9fHx/e3u7/X19e3t8evr7+fn6YuR96Gl+OLi59LS2dTU2uvr++nq7ff39+Tk697e4ufn6+vr7enq69ra3tDQ1uDg5/nv7+Dg5Nzc4Nzd4tTU2OTk5+fn7djY3tzc5M/Q1NjY3NLS1tbX3MzM0u/w9crK0unp7+np+/37+8rK0MjIzu/v78PEy9ra4djY4eLi6t7e5NbW2s7O1OLk5+/v/Ojp/dra5MPF9+3u89bX3mxz99DQ2fj4+OLi5PHx8dvb29ze+/f3/7C1+t7e5+vr69PX2OPk/Jydl/T09/f393R7+Gdw96ytuNTU3M7O2ODg6a6vumJq9+3u/dTW/PP19cXGzd7e4O3t7cnK+/f3+uLk683O+Z2h+dLU+9/h++no3/j39bq0pu/v7fv7+fHz9XF4911l93V8+bm5waGirffr7Kqrtq+z9qentF9o93mA+fj4+vr6++/v7/f3++vt+83N0/Pz8+vr8dbY+sjJ98zO1crM0vn5//Pz/ra6n/n59d/g4quvp9fa2OTn66Shm8C2prCuq+/r67Gxr9LLvbCwrcfEwK+vqZSahtPVw5WafKiknff5+ZqapvHw7fv4+YGH9dnb++Tn/Ly8xvfo6Oq5v////6WlsNrc3vPz+dLU2Ovr/eTn+drc4JWXo6Wp+cLE++nr74+T+enr4s7Q1m5098bArefk5Nze0ODc1Pf3/MC8tuDi0KWrh/n39+Tk4qmv+77Cqdjc3PX1/c7S0vv7/7ixo/Px7Z+jh62x+8rMtrS6pZebjY+Rn9bayKuvm+vp5+np6aWrjVJa9fX38bi895+fm1pk9620oevp6bS0r+fp6fv19VZg9fn19X6F+fnz89LS3MDAyPXi4uextvX1+vPW2OCVnYmJl9zc4Xh4iff3+mdy97y8xPf3977C96mpsbS29YeHlamv84qS87i89VXx8BYAAAD/dFJOU319fX19fX19fQB9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19bX19fX19fX19fX19Lwd9fX19fX19fX19fX19fX1lfX19fX19fX19fX19fX19fX19fX19fW1dED59fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX0PfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1mfX19bX1eXn0/fX19fX0/fSWruQsAAAbiSURBVGje7VkFcBtHFD2SbnXO9UA56dRIiiRbFFlmiO3asWKIE0MYGrQbZmjDDA1T06RJ03DSJA2XMaWUmZmZmWm6ki3lTie59kTSlJ40p5nV//tud//b/28P0WiG/PgdkhBMHKzRaBDNyWXSRoqi4ki57CQk/MZsKna58pqa0N4gnoNcNgQZzBV8ml9aYMYaW4DQRKjvDC8MG7TkG0ff+gmobifD78gXYQZE0++8b08tXFg/4uf6H46VLh5Rf/P8TERtXG1ykkmtI7zmtZFLhtW9NWfOnCUjhy0Z+T2CJOFYJMOS+YtPzV884teDX8879sKIhfUHSxG1AzH0ajXhB3UjPxpaVzd37uyls5cunRv30Fx0vhxRDfXdLLbhZWU2W1mGGNtbEPuXdStz+2ycu/+kbmv4YLOWZ3merdEyNSweW0KMxXkW1+J4RwxeMeRfCIbhMsu7/LUd0QgkSYkW8TS5wznVlg93W8LnEiUooAIqFYBQkxBnSIxkMStJVLUPoah90cCqlSurWkSI6ijdGGv0v0Wv3iaIa1i9KLJ+QoR0Wk0l2YCo6jO5unpq9dTJkyesW7uu+oZp09q0iLDXvOQNG0r9uxbtNdU2hIcidV4YELTpt40C17WIsMk9oAyapxMbNxiCR4uRWAP2TNOZ3S/KCmdEyfggEORQ9Xh4kKPkM8O6AjbIS/BWfZLED+N5StmbisEZRttRTzVD2LZtUdW09gPbFx0tatuE0Y2E/YYeVYlI0E7ELYjET68vJJS9nZdRc1shq7dgzRIeKfrtj0W//LTojTDCOE2pMsjb3BiQhSo+gF3jOJNhKQwPUgqcBdqhER+Cc4efUOvL8nFKwhxn/tjKtNLTY12HO3z15ecnTiz4ODaEkUEBgoKqIRAdgR3u8NmC4wuOd3g/noSoWoILGgHU5w7/jGpxbQ28dJRl3/AoPfR6jKIUqcnKstkm2fpnZOlZGSFBqUgQtLt6/9vvSf0Y/19qENYbgIpHSQBvFk6ekgy2NZO9SIqk1Pag7Ttvvttb6pu3Ps9lTtvsqsiTtmLpnC83L8fpyjXlmpMVhDYS+IKbN6YkBNINaubunWiMphTh9d0L1tcqMj6IDwKdszgeYYR9u6old/bsi1SsRohhs3heVBK2mz1QLQTthOe3Xyj1q8xJ3uwZZ/A5jbI17GlPyUlNTk31jHN6DQoyhgLuQNVm7l7bWZkPb719FBnKCIcOTJ8h9bVi8GO16hCdLAxR1N9E6HSsDlOmDGjLNBOlcnR6KlY6RFitODzFlrCM799qyt1eZV1KEqhU+E+/5EiE8EML/8qgXVdIfbPHZhfkrrp2bL5J2sqmJptL8nOzi9fnFxekKgjLUOB/rub58obMCEGjVoGzI7x8986Z5zydsDcQkMXWQguPJG4No25tslXYt08Vs62N8TaYvUnKNVSh6tVBuxl798iE7/QYuRSO5jhB2koYGCHZ4PBwKV2MnF5BhlPqxsqC1uJshKChUDIk3qsOPPmy1LeXIIgMzToYWtqK6nS0vRNNC+P1gqgUPrwFfYuFP+DiWK5hCwhjFzSF/WuzOnd2uwt9fEcZ4dp+l52VxSWvPueQb4ugMc7lcY8GhA+iC5+CETqLhV8Ww5iwmmbKsD4glPHtg3bIhJ/mMpucuelpabK8jqVyqdkVOea0nOtzTR4FYQoKvM1MadcJfSUjvO+uB2MlfP+hgrtLAoUf5VAhzPCe++MepVD4gAmlw71bZMLvnZ5ucBhpe0+ZDokuUPgpnJETofDtkYSfEjhUKP8ks0G5eaOoVPjbpt8t9XUYOU+6gfZYZIUEytMOzmB39OzJGThaQZgBv1EPFeIr/AiHCnEMmmiHCgMnnJHI4oFNjGzySEBGVDZsD2g+ovChX3DzjpCeptT1AaEdf8CgHbKgcbnSXBUmoykvRyb8ZKMnrSIzz2Q2myKV+iHhY0laJeGRfhLhW/dcqWulxqOOkOFNp7v78IRm/BZkiztiF6WRDxX85zRFIKTDGfu3PCr1SxcEmGd1jMDKhD9+jE6kRZHWdrILSh3CTsVAXZqa5eWUhA8P7UqGuuu0bfpDso3fuJXjDILHIBc+LQgp6XaHMd1o4HpFyvgZzUzpE49Jn5563wv+qRk/ej6culFSCG96RBc74UcmnHJnH2A5K/xdj0t9S0oLirMrvSWrKmSlvvMmZ3GBuTI/u7IkX1nqW1BQ2wzh6FskNY11eyuFH2kC4DJRf581/B+tQHzfK4e9ZsIQBkFHbURgLQMfX9x4vAlh1sMhIYnAhxhYxVgSNE6C+E+F0KWJpZuIrEgs4WBkSI9E8vXQIJrlCWTssRwSajSDJyYoXFYM0Wj+BNjsk7mwYOwbAAAAAElFTkSuQmCC\"","import * as React from 'react';\n\nimport {\n  Box,\n  Button,\n  Divider,\n  Flex,\n  FlexComponent,\n  Popover,\n  Typography,\n  TypographyComponent,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { Cross, Message, Play, Question, Book, PaperPlane } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport onboardingPreview from '../assets/images/onboarding-preview.png';\nimport { useAppInfo } from '../features/AppInfo';\n\nconst Onboarding = () => {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const { formatMessage } = useIntl();\n  const communityEdition = useAppInfo('Onboarding', (state) => state.communityEdition);\n\n  const docLinks = [\n    ...DOCUMENTATION_LINKS,\n    {\n      label: { id: 'Settings.application.get-help', defaultMessage: 'Get help' },\n      icon: Message,\n      href: communityEdition\n        ? 'https://discord.strapi.io'\n        : 'https://support.strapi.io/support/home',\n    },\n  ];\n\n  const Icon = isOpen ? Cross : Question;\n\n  return (\n    <Popover.Root onOpenChange={setIsOpen}>\n      <Box position=\"fixed\" bottom={2} right={2}>\n        <Popover.Trigger>\n          <HelperButton\n            aria-label={formatMessage(\n              isOpen\n                ? {\n                    id: 'app.components.Onboarding.help.button-close',\n                    defaultMessage: 'Close help menu',\n                  }\n                : {\n                    id: 'app.components.Onboarding.help.button',\n                    defaultMessage: 'Open help menu',\n                  }\n            )}\n          >\n            <Icon fill=\"buttonNeutral0\" />\n          </HelperButton>\n        </Popover.Trigger>\n        <Popover.Content align=\"end\" side=\"top\" sideOffset={12}>\n          <Flex\n            justifyContent=\"space-between\"\n            paddingBottom={5}\n            paddingRight={6}\n            paddingLeft={6}\n            paddingTop={6}\n          >\n            <TypographyLineHeight fontWeight=\"bold\">\n              {formatMessage({\n                id: 'app.components.Onboarding.title',\n                defaultMessage: 'Get started videos',\n              })}\n            </TypographyLineHeight>\n            <TextLink\n              tag=\"a\"\n              href={WATCH_MORE.href}\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n              variant=\"pi\"\n              textColor=\"primary600\"\n            >\n              {formatMessage(WATCH_MORE.label)}\n            </TextLink>\n          </Flex>\n          <Divider />\n          {VIDEO_LINKS.map(({ href, duration, label }, index) => (\n            <VideoLinkWrapper\n              tag=\"a\"\n              href={href}\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n              key={href}\n              hasRadius\n              paddingTop={4}\n              paddingBottom={4}\n              paddingLeft={6}\n              paddingRight={11}\n            >\n              <Box paddingRight={5}>\n                <Number textColor=\"neutral200\" variant=\"alpha\">\n                  {index + 1}\n                </Number>\n              </Box>\n              <Box position=\"relative\">\n                <Preview src={onboardingPreview} alt=\"\" />\n                <IconWrapper\n                  position=\"absolute\"\n                  top=\"50%\"\n                  left=\"50%\"\n                  background=\"primary600\"\n                  borderRadius=\"50%\"\n                  justifyContent=\"center\"\n                  width={6}\n                  height={6}\n                >\n                  <Play fill=\"buttonNeutral0\" width=\"1.2rem\" height=\"1.2rem\" />\n                </IconWrapper>\n              </Box>\n              <Flex direction=\"column\" alignItems=\"start\" paddingLeft={4}>\n                <Label fontWeight=\"bold\">{formatMessage(label)}</Label>\n                <VisuallyHidden>:</VisuallyHidden>\n                <Typography textColor=\"neutral600\" variant=\"pi\">\n                  {duration}\n                </Typography>\n              </Flex>\n            </VideoLinkWrapper>\n          ))}\n          <Flex\n            direction=\"column\"\n            alignItems=\"stretch\"\n            gap={2}\n            paddingLeft={5}\n            paddingTop={2}\n            paddingBottom={5}\n          >\n            {docLinks.map(({ label, href, icon: Icon }) => (\n              <Flex gap={3} key={href}>\n                <Icon fill=\"primary600\" />\n                <TextLink\n                  tag=\"a\"\n                  href={href}\n                  target=\"_blank\"\n                  rel=\"noreferrer noopener\"\n                  variant=\"sigma\"\n                  textColor=\"primary700\"\n                >\n                  {formatMessage(label)}\n                </TextLink>\n              </Flex>\n            ))}\n          </Flex>\n        </Popover.Content>\n      </Box>\n    </Popover.Root>\n  );\n};\n\n// TODO: use new Button props derived from Box props with next DS release\nconst HelperButton = styled(Button)`\n  border-radius: 50%;\n  padding: ${({ theme }) => theme.spaces[3]};\n  /* Resetting 2rem height defined by Button component */\n  height: unset;\n  width: unset;\n\n  & > span {\n    display: flex;\n\n    svg {\n      width: 1.6rem;\n      height: 1.6rem;\n    }\n  }\n`;\n\nconst IconWrapper = styled<FlexComponent>(Flex)`\n  transform: translate(-50%, -50%);\n`;\n\nconst Number = styled<TypographyComponent>(Typography)``;\n\nconst Label = styled<TypographyComponent>(Typography)``;\n\nconst VideoLinkWrapper = styled<FlexComponent<'a'>>(Flex)`\n  text-decoration: none;\n\n  :focus-visible {\n    outline-offset: ${({ theme }) => `-${theme.spaces[1]}`};\n  }\n\n  :hover {\n    background: ${({ theme }) => theme.colors.primary100};\n\n    /* Hover style for the number displayed */\n    ${Number} {\n      color: ${({ theme }) => theme.colors.primary500};\n    }\n\n    /* Hover style for the label */\n    ${Label} {\n      color: ${({ theme }) => theme.colors.primary600};\n    }\n  }\n`;\n\nconst Preview = styled.img`\n  width: ${({ theme }) => theme.spaces[10]};\n  height: ${({ theme }) => theme.spaces[8]};\n  /* Same overlay used in ModalLayout */\n  background: ${({ theme }) => `${theme.colors.neutral800}1F`};\n  border-radius: ${({ theme }) => theme.borderRadius};\n`;\n\nconst TypographyLineHeight = styled<TypographyComponent>(Typography)`\n  /* line height of label and watch more to 1 so they can be better aligned visually */\n  line-height: 1;\n`;\n\nconst TextLink = styled<TypographyComponent<'a'>>(Typography)`\n  text-decoration: none;\n  line-height: 1;\n\n  :hover {\n    text-decoration: underline;\n  }\n`;\n\nconst VIDEO_LINKS = [\n  {\n    label: {\n      id: 'app.components.Onboarding.link.build-content',\n      defaultMessage: 'Build a content architecture',\n    },\n    href: 'https://www.youtube.com/watch?v=G9GjN0RxhkE',\n    duration: '5:48',\n  },\n  {\n    label: {\n      id: 'app.components.Onboarding.link.manage-content',\n      defaultMessage: 'Add & manage content',\n    },\n    href: 'https://www.youtube.com/watch?v=DEZw4KbybAI',\n    duration: '3:18',\n  },\n  {\n    label: { id: 'app.components.Onboarding.link.manage-media', defaultMessage: 'Manage media' },\n    href: 'https://www.youtube.com/watch?v=-61MuiMQb38',\n    duration: '3:41',\n  },\n];\n\nconst WATCH_MORE = {\n  href: 'https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq',\n  label: {\n    id: 'app.components.Onboarding.link.more-videos',\n    defaultMessage: 'Watch more videos',\n  },\n};\n\nconst DOCUMENTATION_LINKS = [\n  {\n    label: { id: 'global.documentation', defaultMessage: 'documentation' },\n    href: 'https://docs.strapi.io',\n    icon: Book,\n  },\n  {\n    label: { id: 'app.static.links.cheatsheet', defaultMessage: 'cheatsheet' },\n    href: 'https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf',\n    icon: PaperPlane,\n  },\n];\n\nexport { Onboarding };\n","import * as React from 'react';\n\nimport { produce } from 'immer';\nimport set from 'lodash/set';\n\nimport { Page } from '../components/PageHelpers';\nimport { StrapiAppContextValue, useStrapiApp } from '../features/StrapiApp';\n\n/**\n * TODO: this isn't great, and we really should focus on fixing this.\n */\nconst PluginsInitializer = ({ children }: { children: React.ReactNode }) => {\n  const appPlugins = useStrapiApp('PluginsInitializer', (state) => state.plugins);\n  const [{ plugins }, dispatch] = React.useReducer<React.Reducer<State, Action>, State>(\n    reducer,\n    initialState,\n    () => init(appPlugins)\n  );\n  const setPlugin = React.useRef((pluginId: string) => {\n    dispatch({ type: 'SET_PLUGIN_READY', pluginId });\n  });\n\n  const hasApluginNotReady = Object.keys(plugins).some(\n    (plugin) => plugins[plugin].isReady === false\n  );\n\n  /**\n   *\n   * I have spent some time trying to understand what is happening here, and wanted to\n   * leave that knowledge for my future me:\n   *\n   * `initializer` is an undocumented property of the `registerPlugin` API. At the time\n   * of writing it seems only to be used by the i18n plugin.\n   *\n   * How does it work?\n   *\n   * Every plugin that has an `initializer` component defined, receives the\n   * `setPlugin` function as a component prop. In the case of i18n the plugin fetches locales\n   * first and calls `setPlugin` with `pluginId` once they are loaded, which then triggers the\n   * reducer of the admin app defined above.\n   *\n   * Once all plugins are set to `isReady: true` the app renders.\n   *\n   * This API is used to block rendering of the admin app. We should remove that in v5 completely\n   * and make sure plugins can inject data into the global store before they are initialized, to avoid\n   * having a new prop-callback based communication channel between plugins and the core admin app.\n   *\n   */\n\n  if (hasApluginNotReady) {\n    const initializers = Object.keys(plugins).reduce((acc, current) => {\n      const InitializerComponent = plugins[current].initializer;\n\n      if (InitializerComponent) {\n        const key = plugins[current].pluginId;\n\n        acc.push(<InitializerComponent key={key} setPlugin={setPlugin.current} />);\n      }\n\n      return acc;\n    }, [] as React.ReactNode[]);\n\n    return (\n      <>\n        {initializers}\n        <Page.Loading />\n      </>\n    );\n  }\n\n  return children;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Reducer\n * -----------------------------------------------------------------------------------------------*/\n\ninterface State {\n  plugins: StrapiAppContextValue['plugins'];\n}\n\nconst initialState: State = {\n  plugins: {},\n};\n\ntype SetPluginReadyAction = {\n  type: 'SET_PLUGIN_READY';\n  pluginId: string;\n};\n\ntype Action = SetPluginReadyAction;\n\nconst reducer: React.Reducer<State, Action> = (state = initialState, action: Action): State =>\n  produce(state, (draftState) => {\n    switch (action.type) {\n      case 'SET_PLUGIN_READY': {\n        set(draftState, ['plugins', action.pluginId, 'isReady'], true);\n        break;\n      }\n      default:\n        return draftState;\n    }\n  });\n\n/* -------------------------------------------------------------------------------------------------\n * Init state\n * -----------------------------------------------------------------------------------------------*/\n\nconst init = (plugins: State['plugins']): State => {\n  return {\n    plugins,\n  };\n};\n\nexport { PluginsInitializer };\n","import * as React from 'react';\n\nimport { Cog, ShoppingCart, House } from '@strapi/icons';\nimport cloneDeep from 'lodash/cloneDeep';\n\nimport { useTypedSelector } from '../core/store/hooks';\nimport { useAuth, AuthContextValue } from '../features/Auth';\nimport { StrapiAppContextValue, useStrapiApp } from '../features/StrapiApp';\n\n/* -------------------------------------------------------------------------------------------------\n * useMenu\n * -----------------------------------------------------------------------------------------------*/\n\nexport type MenuItem = Omit<StrapiAppContextValue['menu'][number], 'Component'>;\n\nexport interface Menu {\n  generalSectionLinks: MenuItem[];\n  pluginsSectionLinks: MenuItem[];\n  isLoading: boolean;\n}\n\nconst useMenu = (shouldUpdateStrapi: boolean) => {\n  const checkUserHasPermissions = useAuth('useMenu', (state) => state.checkUserHasPermissions);\n  const menu = useStrapiApp('useMenu', (state) => state.menu);\n  const permissions = useTypedSelector((state) => state.admin_app.permissions);\n  const [menuWithUserPermissions, setMenuWithUserPermissions] = React.useState<Menu>({\n    generalSectionLinks: [\n      {\n        icon: House,\n        intlLabel: {\n          id: 'global.home',\n          defaultMessage: 'Home',\n        },\n        to: '/',\n        permissions: [],\n        position: 0,\n      },\n      {\n        icon: ShoppingCart,\n        intlLabel: {\n          id: 'global.marketplace',\n          defaultMessage: 'Marketplace',\n        },\n        to: '/marketplace',\n        permissions: permissions.marketplace?.main ?? [],\n        position: 7,\n      },\n      {\n        icon: Cog,\n        intlLabel: {\n          id: 'global.settings',\n          defaultMessage: 'Settings',\n        },\n        to: '/settings',\n        // Permissions of this link are retrieved in the init phase\n        // using the settings menu\n        permissions: [],\n        notificationsCount: 0,\n        position: 9,\n      },\n    ],\n    pluginsSectionLinks: [],\n    isLoading: true,\n  });\n  const generalSectionLinksRef = React.useRef(menuWithUserPermissions.generalSectionLinks);\n\n  React.useEffect(() => {\n    async function applyMenuPermissions() {\n      const authorizedPluginSectionLinks = await getPluginSectionLinks(\n        menu,\n        checkUserHasPermissions\n      );\n\n      const authorizedGeneralSectionLinks = await getGeneralLinks(\n        generalSectionLinksRef.current,\n        shouldUpdateStrapi,\n        checkUserHasPermissions\n      );\n\n      setMenuWithUserPermissions((state) => ({\n        ...state,\n        generalSectionLinks: authorizedGeneralSectionLinks,\n        pluginsSectionLinks: authorizedPluginSectionLinks,\n        isLoading: false,\n      }));\n    }\n\n    applyMenuPermissions();\n  }, [\n    setMenuWithUserPermissions,\n    generalSectionLinksRef,\n    menu,\n    permissions,\n    shouldUpdateStrapi,\n    checkUserHasPermissions,\n  ]);\n\n  return menuWithUserPermissions;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\nconst getGeneralLinks = async (\n  generalSectionRawLinks: MenuItem[],\n  shouldUpdateStrapi: boolean = false,\n  checkUserHasPermissions: AuthContextValue['checkUserHasPermissions']\n) => {\n  const generalSectionLinksPermissions = await Promise.all(\n    generalSectionRawLinks.map(({ permissions }) => checkUserHasPermissions(permissions))\n  );\n\n  const authorizedGeneralSectionLinks = generalSectionRawLinks.filter(\n    (_, index) => generalSectionLinksPermissions[index].length > 0\n  );\n\n  const settingsLinkIndex = authorizedGeneralSectionLinks.findIndex(\n    (obj) => obj.to === '/settings'\n  );\n\n  if (settingsLinkIndex === -1) {\n    return [];\n  }\n\n  const authorizedGeneralLinksClone = cloneDeep(authorizedGeneralSectionLinks);\n\n  authorizedGeneralLinksClone[settingsLinkIndex].notificationsCount = shouldUpdateStrapi ? 1 : 0;\n\n  return authorizedGeneralLinksClone;\n};\n\nconst getPluginSectionLinks = async (\n  pluginsSectionRawLinks: MenuItem[],\n  checkUserHasPermissions: AuthContextValue['checkUserHasPermissions']\n) => {\n  const pluginSectionLinksPermissions = await Promise.all(\n    pluginsSectionRawLinks.map(({ permissions }) => checkUserHasPermissions(permissions))\n  );\n\n  const authorizedPluginSectionLinks = pluginsSectionRawLinks.filter(\n    (_, index) => pluginSectionLinksPermissions[index].length > 0\n  );\n\n  return authorizedPluginSectionLinks;\n};\n\nexport { useMenu };\n","import * as React from 'react';\n\nimport { Box, Flex, SkipToContent } from '@strapi/design-system';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { useIntl } from 'react-intl';\nimport { Outlet } from 'react-router-dom';\nimport lt from 'semver/functions/lt';\nimport valid from 'semver/functions/valid';\n\nimport packageJSON from '../../../package.json';\nimport { GuidedTourModal } from '../components/GuidedTour/Modal';\nimport { useGuidedTour } from '../components/GuidedTour/Provider';\nimport { LeftMenu } from '../components/LeftMenu';\nimport { NpsSurvey } from '../components/NpsSurvey';\nimport { Onboarding } from '../components/Onboarding';\nimport { Page } from '../components/PageHelpers';\nimport { PluginsInitializer } from '../components/PluginsInitializer';\nimport { PrivateRoute } from '../components/PrivateRoute';\nimport { AppInfoProvider } from '../features/AppInfo';\nimport { useAuth } from '../features/Auth';\nimport { useConfiguration } from '../features/Configuration';\nimport { useTracking } from '../features/Tracking';\nimport { useMenu } from '../hooks/useMenu';\nimport { useOnce } from '../hooks/useOnce';\nimport { useInformationQuery } from '../services/admin';\nimport { hashAdminUserEmail } from '../utils/users';\n\nconst strapiVersion = packageJSON.version;\n\nconst AdminLayout = () => {\n  const setGuidedTourVisibility = useGuidedTour(\n    'AdminLayout',\n    (state) => state.setGuidedTourVisibility\n  );\n  const { formatMessage } = useIntl();\n  const userInfo = useAuth('AuthenticatedApp', (state) => state.user);\n  const [userId, setUserId] = React.useState<string>();\n  const { showReleaseNotification } = useConfiguration('AuthenticatedApp');\n\n  const { data: appInfo, isLoading: isLoadingAppInfo } = useInformationQuery();\n\n  const [tagName, setTagName] = React.useState<string>(strapiVersion);\n\n  React.useEffect(() => {\n    if (showReleaseNotification) {\n      fetch('https://api.github.com/repos/strapi/strapi/releases/latest')\n        .then(async (res) => {\n          if (!res.ok) {\n            return;\n          }\n\n          const response = (await res.json()) as { tag_name: string | null | undefined };\n\n          if (!response.tag_name) {\n            throw new Error();\n          }\n\n          setTagName(response.tag_name);\n        })\n        .catch(() => {\n          /**\n           * silence is golden & we'll use the strapiVersion as a fallback\n           */\n        });\n    }\n  }, [showReleaseNotification]);\n\n  const userRoles = useAuth('AuthenticatedApp', (state) => state.user?.roles);\n\n  React.useEffect(() => {\n    if (userRoles) {\n      const isUserSuperAdmin = userRoles.find(({ code }) => code === 'strapi-super-admin');\n\n      if (isUserSuperAdmin && appInfo?.autoReload) {\n        setGuidedTourVisibility(true);\n      }\n    }\n  }, [userRoles, appInfo?.autoReload, setGuidedTourVisibility]);\n\n  React.useEffect(() => {\n    hashAdminUserEmail(userInfo).then((id) => {\n      if (id) {\n        setUserId(id);\n      }\n    });\n  }, [userInfo]);\n\n  const { trackUsage } = useTracking();\n\n  const {\n    isLoading: isLoadingMenu,\n    generalSectionLinks,\n    pluginsSectionLinks,\n  } = useMenu(checkLatestStrapiVersion(strapiVersion, tagName));\n  const { showTutorials } = useConfiguration('Admin');\n\n  /**\n   * Make sure the event is only send once after accessing the admin panel\n   * and not at runtime for example when regenerating the permissions with the ctb\n   * or with i18n\n   */\n  useOnce(() => {\n    trackUsage('didAccessAuthenticatedAdministration');\n  });\n\n  // We don't need to wait for the release query to be fetched before rendering the plugins\n  // however, we need the appInfos and the permissions\n  if (isLoadingMenu || isLoadingAppInfo) {\n    return <Page.Loading />;\n  }\n\n  return (\n    <AppInfoProvider\n      {...appInfo}\n      userId={userId}\n      latestStrapiReleaseTag={tagName}\n      shouldUpdateStrapi={checkLatestStrapiVersion(strapiVersion, tagName)}\n    >\n      <NpsSurvey />\n      <PluginsInitializer>\n        <DndProvider backend={HTML5Backend}>\n          <Box background=\"neutral100\">\n            <SkipToContent>\n              {formatMessage({ id: 'skipToContent', defaultMessage: 'Skip to content' })}\n            </SkipToContent>\n            <Flex alignItems=\"flex-start\">\n              <LeftMenu\n                generalSectionLinks={generalSectionLinks}\n                pluginsSectionLinks={pluginsSectionLinks}\n              />\n              <Box flex={1}>\n                <Outlet />\n                <GuidedTourModal />\n                {showTutorials && <Onboarding />}\n              </Box>\n            </Flex>\n          </Box>\n        </DndProvider>\n      </PluginsInitializer>\n    </AppInfoProvider>\n  );\n};\n\nconst PrivateAdminLayout = () => {\n  return (\n    <PrivateRoute>\n      <AdminLayout />\n    </PrivateRoute>\n  );\n};\n\nconst checkLatestStrapiVersion = (\n  currentPackageVersion: string,\n  latestPublishedVersion: string = ''\n): boolean => {\n  if (!valid(currentPackageVersion) || !valid(latestPublishedVersion)) {\n    return false;\n  }\n\n  return lt(currentPackageVersion, latestPublishedVersion);\n};\n\nexport { AdminLayout, PrivateAdminLayout };\n"],"names":["useGuidedTour","useIntl","useTracking","get","LAYOUT_DATA","jsx","Portal","FocusTrap","jsxs","Flex","IconButton","Cross","Box","Button","styled","Fragment","VerticalDivider","STATES","Typography","Number","LinkButton","NavLink","ArrowRight","useConfiguration","VisuallyHidden","RouterLink","Tooltip","AccessibleIcon","Badge","Menu","useNavigate","useAuth","Avatar","SignOut","useLocation","getDisplayName","useCollator","Divider","Lightning","React","useAppInfo","Message","Question","Popover","Play","Icon","Book","PaperPlane","useStrapiApp","Page","produce","set","useTypedSelector","House","ShoppingCart","Cog","cloneDeep","useInformationQuery","hashAdminUserEmail","useOnce","AppInfoProvider","NpsSurvey","DndProvider","HTML5Backend","SkipToContent","Outlet","PrivateRoute","valid","lt"],"mappings":"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"}